{"version":3,"sources":["components/commonComponents/CommonGridListItem/CommonGridListItemWrapper.tsx","app/KabuRecord/functions/handleCalKabu.ts","app/KabuRecord/functions/HandleKabuTrend.ts","app/KabuRecord/config.ts","app/KabuRecord/components/OtherDayKabuItemHeader.tsx","app/KabuRecord/containers/InputItemContainer.tsx","app/KabuRecord/components/OtherDayKabuItem.tsx","app/KabuRecord/components/OtherDayKabuForm.tsx","app/KabuRecord/components/KabuTrendTypePrediction.tsx","app/KabuRecord/containers/OtherDayKabuFormContainer.tsx","app/KabuRecord/functions/HandleLocalStorage.ts","app/KabuRecord/components/Header.tsx","app/KabuRecord/components/Footer.tsx","app/KabuRecord/theme/theme.ts","app/KabuRecord/index.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["CommonGridListItemWrapper","props","ListItem","Grid","container","widthRatios","map","w","i","item","xs","key","children","handleCalKabu","sundayPrice","mondayMorningPrice","toFixed","HandleKabuTrends","otherDaysPrices","sun","morning","mon","afternoon","tue","wed","thu","fri","sat","kabuValue","K","Number","prices","includes","number1","number2","originPrice","p","res","length","this","getTwoNumbersRatio","priceRatios","position","priceMultiWithOriginPrice","getPriceMultiWithOriginPrice","getPricesRatios","reboundPosition","getPositionOfReboundInPriceRatios","firstPeriodPricePosition","firstPeriodPriceMulti","secondPeriodPricePosition","secondPeriodPriceMulti","thirdPeriodPricePosition","thirdPeriodPriceMulti","forthPeriodPricePosition","forthPeriodPriceMulti","haveRebound","highestPricePosition","undefined","pricesBeforeLastCheck","slice","priceRatiosBeforeLastCheck","isAllPricesBeforeLastCheckAreHaveValues","checkPricesAreAllBiggerThanZero","reboundPositionBeforeLastCheck","getReboundAndHighestPricePosition","kabuTrendTypes","isNoReboundBeforeLastCheck","checkIsNoReboundBeforeLastPosition","isForthPriceMultiSmallerThanReboundTrendSeperatingMulti","console","log","KabuValue","typesFromKabuValue","getKabuTrendPredictionsFromKabuValue","getForthKabuTrendsAndPricePosition","getWaveOrForthKabuTrendType","getDecrementOrThirdOrForthKabuTrendsAndPricePosition","otherDayKabuItemWidthRatios","kabuTrends","notDefined","decrement","wave","third","forth","otherDaysText_zhTw","dayTimesText_zhTw","highestPositionToText","0","1","2","3","4","5","6","7","8","9","10","11","12","OtherDayKabuItemHeader","ListItemText","InputItemContainer","id","value","variant","onChange","handleChange","useCallback","e","target","TextField","type","OtherDayKabuItem","date","day","dayTimePrices","Box","paddingLeft","dayTime","String","OtherDayKabuForm","paddingY","Paper","elevation","Divider","otherDayList","d","useStyles","makeStyles","theme","root","borderColor","palette","primary","dark","borderWidth","borderStyle","borderRadius","KabuTrendTypePrediction","classes","trendsStr","trend","join","className","padding","display","alignItems","paddingTop","paddingBottom","Typography","OtherDayKabuFormContainer","useState","initOtherDayPrices","dayPrices","setDayPrices","dayAndTime","useEffect","localStorage","setItem","JSON","stringify","Object","keys","getThisWeekPrices","kabuTrendTypesAndPricePosition","getPresiceTrendType","Container","initDayPrices","defaultInitOtherDayPrices","HandleLocalStorage","data","getItem","parsed","parse","backgroundColor","Header","justifyContent","paddingRight","src","alt","style","width","height","Button","href","LinkItemInFooter","title","Link","color","links","referenceLinks","Footer","link","process","anclTheme","createMuiTheme","typography","fontFamily","light","main","text","secondary","KabuRecord","ThemeProvider","minHeight","getData","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ed9c3c86.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Box, ListItem, Grid } from '@material-ui/core';\r\nimport { CommonGridListItemWrapperProps } from './types';\r\n\r\nconst CommonGridListItemWrapper = (props: CommonGridListItemWrapperProps) => {\r\n  return (\r\n    <ListItem>\r\n      <Grid container>\r\n        {props.widthRatios.map((w, i) => (\r\n          <Grid item xs={w} key={i}>\r\n            {props.children[i]}\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </ListItem>\r\n  );\r\n};\r\n\r\nexport default CommonGridListItemWrapper;","const handleCalKabu = (sundayPrice: number, mondayMorningPrice: number) => {\r\n  if(sundayPrice === 0 || mondayMorningPrice === 0) {\r\n    return 0;\r\n  }\r\n  return ((mondayMorningPrice / sundayPrice) * 100).toFixed(2);\r\n};\r\n\r\nexport default handleCalKabu;","import { KabuTrendType, SingleWeekKabuRecord } from \"../types\";\r\nimport handleCalKabu from \"./handleCalKabu\";\r\nimport { KabuTrendsAndHighestPricePosition } from '../types';\r\n\r\nconst reboundTrendSeperatingMulti = 1.4;\r\nexport const noReboundPosition = -1000;\r\n//check decrement first(last position is thu afternoon(index: 8))\r\nconst lastCheckReboundPosition = 8 + 1;\r\n\r\nclass HandleKabuTrends {\r\n  //from sun ~ sat, length is 13\r\n  static getThisWeekPrices(otherDaysPrices: SingleWeekKabuRecord['otherDaysPrice']): number[] {\r\n    return [\r\n      otherDaysPrices.sun.morning,\r\n\r\n      otherDaysPrices.mon.morning,\r\n      otherDaysPrices.mon.afternoon,\r\n\r\n      otherDaysPrices.tue.morning,\r\n      otherDaysPrices.tue.afternoon,\r\n\r\n      otherDaysPrices.wed.morning,\r\n      otherDaysPrices.wed.afternoon,\r\n\r\n      otherDaysPrices.thu.morning,\r\n      otherDaysPrices.thu.afternoon,\r\n\r\n      otherDaysPrices.fri.morning,\r\n      otherDaysPrices.fri.afternoon,\r\n\r\n      otherDaysPrices.sat.morning,\r\n      otherDaysPrices.sat.afternoon,\r\n    ];\r\n  }\r\n  \r\n  static getKabuTrendPredictionsFromKabuValue(kabuValue: number | string): KabuTrendType[] {\r\n    const K = Number(kabuValue);\r\n    if(K === 0) {\r\n      return ['notDefined'];\r\n    }\r\n    if(K >= 91) {\r\n      return ['wave', 'forth'];\r\n    }\r\n    else if(K >= 85) {\r\n      return ['third', 'forth', 'decrement'];\r\n    } \r\n    else if(K >= 80) {\r\n      return ['third', 'forth'];\r\n    }\r\n    else if(K >= 60) {\r\n      return ['wave', 'forth'];\r\n    }\r\n    return ['forth'];\r\n  }\r\n\r\n  static checkPricesAreAllBiggerThanZero(prices: number[]) {\r\n    if(prices.includes(0)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  static getTwoNumbersRatio(number1: number, number2: number) {\r\n    if(number2 === 0) {\r\n      return 0;\r\n    }\r\n    return number2 - number1;\r\n  }\r\n\r\n  static getPriceMultiWithOriginPrice(prices: number[]) {\r\n    const originPrice = prices[0];\r\n    return prices.map(p => {\r\n      if(originPrice === 0) {\r\n        return 0;\r\n      }\r\n      return (\r\n        Number((p / originPrice).toFixed(2))\r\n      );\r\n    });\r\n  }\r\n\r\n  static getPricesRatios(prices: number[]) {\r\n    let res: number[] = [];\r\n    for (let i = 0; i < prices.length; i++) {\r\n      if(i === 0 || i === 1) {\r\n        res[i] = 0;\r\n      } else {\r\n        res[i] = this.getTwoNumbersRatio(prices[i - 1], prices[i]);\r\n      }\r\n    }\r\n    return res;\r\n  }\r\n\r\n  static getPositionOfReboundInPriceRatios(priceRatios: number[]) {\r\n    let position = -1; //rebound not confirmed\r\n\r\n    for (let i = 0; i < priceRatios.length; i++) {\r\n      const ratio = priceRatios[i];\r\n      //exclude sunday position\r\n      if(ratio > 0 && i > 0) {\r\n        //if ratio is bigger than 0, it is not a decrement type\r\n        position = i;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return position;\r\n  }\r\n\r\n  static getReboundAndHighestPricePosition(prices: number[]): {\r\n    haveRebound: boolean,\r\n    highestPricePosition?: {\r\n      firstPeriodPricePosition: number,\r\n      firstPeriodPriceMulti: number,\r\n\r\n      secondPeriodPricePosition: number,\r\n      secondPeriodPriceMulti: number,\r\n\r\n      thirdPeriodPricePosition: number,\r\n      thirdPeriodPriceMulti: number,\r\n\r\n      forthPeriodPricePosition: number,\r\n      forthPeriodPriceMulti: number,\r\n    }\r\n  } {\r\n    const priceMultiWithOriginPrice = this.getPriceMultiWithOriginPrice(prices);\r\n\r\n    const priceRatios = this.getPricesRatios(prices);\r\n    const reboundPosition = this.getPositionOfReboundInPriceRatios(priceRatios);\r\n\r\n    const firstPeriodPricePosition = reboundPosition;\r\n    const firstPeriodPriceMulti = priceMultiWithOriginPrice[firstPeriodPricePosition];\r\n\r\n    const secondPeriodPricePosition = reboundPosition + 1;\r\n    const secondPeriodPriceMulti = priceMultiWithOriginPrice[secondPeriodPricePosition];\r\n\r\n    const thirdPeriodPricePosition = reboundPosition + 2;\r\n    const thirdPeriodPriceMulti = priceMultiWithOriginPrice[thirdPeriodPricePosition];\r\n\r\n    const forthPeriodPricePosition = reboundPosition + 3;\r\n    const forthPeriodPriceMulti = priceMultiWithOriginPrice[forthPeriodPricePosition];\r\n\r\n\r\n    if(reboundPosition === -1) {\r\n      return ({\r\n        haveRebound: false,\r\n        highestPricePosition: undefined\r\n      });\r\n    }\r\n\r\n    return ({\r\n      haveRebound: true,\r\n      highestPricePosition: {\r\n        firstPeriodPricePosition,\r\n        firstPeriodPriceMulti,\r\n\r\n        secondPeriodPriceMulti,\r\n        secondPeriodPricePosition,\r\n\r\n        thirdPeriodPricePosition,\r\n        thirdPeriodPriceMulti,\r\n\r\n        forthPeriodPricePosition,\r\n        forthPeriodPriceMulti,\r\n      }\r\n    });\r\n  }\r\n\r\n  static checkIsNoReboundBeforeLastPosition(prices: number[]) {\r\n    const priceRatios = this.getPricesRatios(prices);\r\n    const pricesBeforeLastCheck = prices.slice(0, lastCheckReboundPosition);\r\n    const priceRatiosBeforeLastCheck = priceRatios.slice(0, lastCheckReboundPosition);\r\n\r\n    const isAllPricesBeforeLastCheckAreHaveValues = this.checkPricesAreAllBiggerThanZero(pricesBeforeLastCheck);\r\n    const reboundPositionBeforeLastCheck = this.getPositionOfReboundInPriceRatios(priceRatiosBeforeLastCheck);\r\n\r\n    const noReboundBeforeLastCheck = \r\n      isAllPricesBeforeLastCheckAreHaveValues &&\r\n      reboundPositionBeforeLastCheck === -1;\r\n    \r\n    return noReboundBeforeLastCheck;\r\n  }\r\n\r\n  static getWaveOrForthKabuTrendType(prices: number[]): KabuTrendsAndHighestPricePosition {\r\n    const pricesBeforeLastCheck = prices.slice(0, lastCheckReboundPosition);\r\n    const priceRatios = this.getPricesRatios(pricesBeforeLastCheck);\r\n\r\n    const {\r\n      haveRebound,\r\n      highestPricePosition,\r\n    } = this.getReboundAndHighestPricePosition(pricesBeforeLastCheck);\r\n\r\n    if(haveRebound && highestPricePosition && highestPricePosition.secondPeriodPriceMulti > 1) {\r\n      const {\r\n        forthPeriodPriceMulti,\r\n        forthPeriodPricePosition\r\n      } = highestPricePosition;\r\n\r\n      const isForthPeriod = \r\n        forthPeriodPriceMulti > 1.5 && \r\n        forthPeriodPriceMulti <= 2;\r\n      \r\n      if(isForthPeriod) {\r\n        return ({\r\n          kabuTrendTypes: ['forth'],\r\n          highestPricePosition: forthPeriodPricePosition\r\n        });\r\n      }\r\n    \r\n      //check is no rebound\r\n      const isNoReboundBeforeLastCheck = this.checkIsNoReboundBeforeLastPosition(prices);\r\n      //check have rebound but forth price is smaller than reboundTrendSeperatingMulti\r\n      const isForthPriceMultiSmallerThanReboundTrendSeperatingMulti = \r\n        priceRatios[forthPeriodPricePosition] > 0 &&\r\n        forthPeriodPriceMulti < reboundTrendSeperatingMulti;\r\n      console.log(priceRatios, priceRatios[forthPeriodPricePosition], forthPeriodPriceMulti);\r\n    \r\n      if(isNoReboundBeforeLastCheck || isForthPriceMultiSmallerThanReboundTrendSeperatingMulti) {\r\n        return ({\r\n          kabuTrendTypes: ['wave'],\r\n          highestPricePosition: undefined\r\n        });\r\n      }\r\n    }\r\n\r\n    return ({\r\n      kabuTrendTypes: ['forth', 'wave'],\r\n      highestPricePosition: undefined\r\n    });\r\n  }\r\n\r\n  static getDecrementOrThirdOrForthKabuTrendsAndPricePosition(prices: number[], kabuTrendTypes: KabuTrendType[]): KabuTrendsAndHighestPricePosition {\r\n    const {\r\n      haveRebound,\r\n      highestPricePosition,\r\n    } = this.getReboundAndHighestPricePosition(prices);\r\n\r\n    if(haveRebound && highestPricePosition && highestPricePosition.secondPeriodPriceMulti > 1) {\r\n      const {\r\n        secondPeriodPriceMulti,\r\n        thirdPeriodPricePosition,\r\n        forthPeriodPricePosition,\r\n      } = highestPricePosition;\r\n      \r\n      if(secondPeriodPriceMulti < reboundTrendSeperatingMulti) {\r\n        return ({\r\n          kabuTrendTypes: ['forth'],\r\n          highestPricePosition: forthPeriodPricePosition\r\n        });\r\n      } else {\r\n        return ({\r\n          kabuTrendTypes: ['third'],\r\n          highestPricePosition: thirdPeriodPricePosition\r\n        });\r\n      }\r\n    }\r\n\r\n    //maybe decrement / third / forth\r\n    const haveDecrementKabuTrendType = kabuTrendTypes.includes('decrement');\r\n\r\n    if(haveDecrementKabuTrendType && !haveRebound) {\r\n      return ({\r\n        kabuTrendTypes: ['third', 'forth', 'decrement'],\r\n        highestPricePosition: undefined\r\n      });\r\n    }\r\n     \r\n    return ({\r\n      kabuTrendTypes: ['third', 'forth'],\r\n      highestPricePosition: undefined\r\n    });\r\n  }\r\n\r\n  static getForthKabuTrendsAndPricePosition(prices: number[]): KabuTrendsAndHighestPricePosition {\r\n    const {\r\n      haveRebound,\r\n      highestPricePosition,\r\n    } = this.getReboundAndHighestPricePosition(prices);\r\n\r\n    if(haveRebound && highestPricePosition) {\r\n      return ({\r\n        kabuTrendTypes: ['forth'],\r\n        highestPricePosition: highestPricePosition.forthPeriodPricePosition\r\n      });\r\n    }\r\n\r\n    return ({\r\n      kabuTrendTypes: ['forth'],\r\n      highestPricePosition: undefined\r\n    });\r\n  }\r\n\r\n  static getPresiceTrendType(prices: number[]): KabuTrendsAndHighestPricePosition {\r\n    const priceMultiWithOriginPrice = this.getPriceMultiWithOriginPrice(prices);\r\n    const priceRatios = this.getPricesRatios(prices);\r\n    //rebound is first\r\n    const reboundPosition = this.getPositionOfReboundInPriceRatios(priceRatios);\r\n    console.log(priceMultiWithOriginPrice, priceRatios, reboundPosition);\r\n\r\n    const KabuValue = handleCalKabu(prices[0], prices[1]);\r\n    const typesFromKabuValue = this.getKabuTrendPredictionsFromKabuValue(KabuValue);\r\n\r\n    const isReboundBeforeLastCheck = this.checkIsNoReboundBeforeLastPosition(prices);\r\n    if(isReboundBeforeLastCheck) {\r\n      return ({\r\n        kabuTrendTypes: ['decrement'],\r\n        highestPricePosition: noReboundPosition,\r\n      });\r\n    }\r\n\r\n    //check forth\r\n    const isForth = \r\n      typesFromKabuValue.includes('forth') && \r\n      typesFromKabuValue.length === 1;\r\n    \r\n    if(isForth) {\r\n      return this.getForthKabuTrendsAndPricePosition(prices);\r\n    }\r\n\r\n    //check is wave / third / forth\r\n\r\n    //check is forth or wave\r\n    const isWaveOrForth = \r\n      typesFromKabuValue.includes('wave') && \r\n      typesFromKabuValue.includes('forth');\r\n\r\n    if(isWaveOrForth) {\r\n      return this.getWaveOrForthKabuTrendType(prices);\r\n    }\r\n    \r\n    //check is third or forth\r\n    const isDecrementOrThirdOrForth = \r\n      typesFromKabuValue.includes('third') && \r\n      typesFromKabuValue.includes('forth');\r\n\r\n    if(isDecrementOrThirdOrForth) {\r\n      return this.getDecrementOrThirdOrForthKabuTrendsAndPricePosition(prices, typesFromKabuValue);\r\n    }\r\n\r\n    //last get basic default types from KabuValue\r\n    return ({\r\n      kabuTrendTypes: typesFromKabuValue,\r\n      highestPricePosition: undefined,\r\n    });\r\n  }\r\n}\r\n\r\nexport default HandleKabuTrends;","import { GridRatio } from \"common-types\";\r\nimport { KabuTrendType, OtherDayType, DayTimeType } from \"./types\";\r\nimport { noReboundPosition } from \"./functions/HandleKabuTrend\";\r\n\r\nexport const reportDocLink = 'https://docs.google.com/document/d/1LooeZ1qIbQnKRFvIcF6-a1RbbtA9UPt7gIBLnB2Gnp4/edit?usp=sharing';\r\nexport const localStorageKey = 'KabuForm';\r\n\r\nexport const otherDayKabuItemWidthRatios = [2, 5, 5] as GridRatio[];\r\n\r\nexport const kabuTrends: {\r\n  [t in KabuTrendType]: string\r\n} = {\r\n  notDefined: '資料不足',\r\n  decrement: '遞減型',\r\n  wave: '波型(最大價格1.1 ~ 1.5倍)',\r\n  third: '三期型(最大價格約2 ~ 6倍)',\r\n  forth: '四期型(最大價格約1.4 ~ 2倍)',\r\n};\r\n\r\nexport const positionUndefinedText_zhTw = '價格尚不足/可能為波型，無法預測最大值時間';\r\nexport const decrement_zhTw = '此為遞減型，不會有最大值，可以準備脫手賣掉了';\r\n\r\nexport const otherDaysText_zhTw: {\r\n  [day in OtherDayType]: string\r\n} = {\r\n  sun: '星期日',\r\n  mon: '星期一',\r\n  tue: '星期二',\r\n  wed: '星期三',\r\n  thu: '星期四',\r\n  fri: '星期五',\r\n  sat: '星期六',\r\n};\r\n\r\nexport const dayTimesText_zhTw: {\r\n  [dayTime in DayTimeType]: string\r\n} = {\r\n  morning: '上午(8:00~11:59)',\r\n  afternoon: '下午(12:00~22:00)'\r\n};\r\n\r\nexport const highestPositionToText: {\r\n  [x: number]: string\r\n} = {\r\n  0: `${otherDaysText_zhTw.sun} ${dayTimesText_zhTw.morning}`,\r\n\r\n  1: `${otherDaysText_zhTw.mon} ${dayTimesText_zhTw.morning}`,\r\n  2: `${otherDaysText_zhTw.mon} ${dayTimesText_zhTw.afternoon}`,\r\n\r\n  3: `${otherDaysText_zhTw.tue} ${dayTimesText_zhTw.morning}`,\r\n  4: `${otherDaysText_zhTw.tue} ${dayTimesText_zhTw.afternoon}`,\r\n\r\n  5: `${otherDaysText_zhTw.wed} ${dayTimesText_zhTw.morning}`,\r\n  6: `${otherDaysText_zhTw.wed} ${dayTimesText_zhTw.afternoon}`,\r\n\r\n  7: `${otherDaysText_zhTw.thu} ${dayTimesText_zhTw.morning}`,\r\n  8: `${otherDaysText_zhTw.thu} ${dayTimesText_zhTw.afternoon}`,\r\n\r\n  9: `${otherDaysText_zhTw.fri} ${dayTimesText_zhTw.morning}`,\r\n  10: `${otherDaysText_zhTw.fri} ${dayTimesText_zhTw.afternoon}`,\r\n\r\n  11: `${otherDaysText_zhTw.sat} ${dayTimesText_zhTw.morning}`,\r\n  12: `${otherDaysText_zhTw.sat} ${dayTimesText_zhTw.afternoon}`,\r\n};\r\n\r\nexport const getHighestPositionText = (position: number | undefined): string => {\r\n  if(position === noReboundPosition) {\r\n    return decrement_zhTw;\r\n  }\r\n  if(typeof position === 'undefined') {\r\n    return positionUndefinedText_zhTw; \r\n  } else {\r\n    return highestPositionToText[position];\r\n  }\r\n  \r\n};\r\n\r\n","import React from 'react';\r\nimport { Box, ListItem, ListItemText } from '@material-ui/core';\r\nimport CommonGridListItemWrapper from 'components/commonComponents/CommonGridListItem/CommonGridListItemWrapper';\r\nimport { otherDayKabuItemWidthRatios } from '../config';\r\n\r\nconst OtherDayKabuItemHeader = () => {\r\n  return (\r\n    <CommonGridListItemWrapper\r\n      widthRatios={otherDayKabuItemWidthRatios}\r\n    >\r\n      <ListItemText>\r\n        {'日期'}\r\n      </ListItemText>\r\n      <ListItemText>\r\n        {'上午(8:00~11:59)'}\r\n      </ListItemText>\r\n      <ListItemText>\r\n        {'下午(12:00~22:00)'}\r\n      </ListItemText>\r\n    </CommonGridListItemWrapper>\r\n  );\r\n};\r\n\r\nexport default OtherDayKabuItemHeader;","import React, { useCallback, ChangeEvent } from 'react';\r\nimport { Box, TextField } from '@material-ui/core';\r\nimport { InputItemContainerProps } from '../types';\r\n\r\nconst InputItemContainer = (props: InputItemContainerProps) => {\r\n  const {\r\n    id,\r\n    value,\r\n    variant='standard',\r\n    onChange\r\n  } = props;\r\n\r\n  const handleChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\r\n    if(onChange) {\r\n      const {\r\n        value\r\n      } =  e.target;\r\n      onChange(props, value);\r\n    }\r\n  }, [onChange, props]);\r\n\r\n  return (\r\n    <TextField\r\n      {...props}\r\n      type={'number'}\r\n      variant={variant as any}\r\n      onChange={handleChange}\r\n      value={value} />\r\n  );\r\n};\r\n\r\nexport default InputItemContainer;","import React from 'react';\r\nimport { Box, ListItem, ListItemText, Grid } from '@material-ui/core';\r\nimport { OtherDayKabuItemProps } from './types';\r\nimport InputItemContainer from '../containers/InputItemContainer';\r\nimport CommonGridListItemWrapper from 'components/commonComponents/CommonGridListItem/CommonGridListItemWrapper';\r\nimport { otherDayKabuItemWidthRatios, otherDaysText_zhTw } from '../config';\r\n\r\nconst OtherDayKabuItem = (props: OtherDayKabuItemProps) => {\r\n  const {\r\n    date,\r\n    day,\r\n    dayTimePrices,\r\n  } = props;\r\n\r\n  return (\r\n    <CommonGridListItemWrapper\r\n      widthRatios={otherDayKabuItemWidthRatios}\r\n    >\r\n      <ListItemText>\r\n        {`${date || ''}${otherDaysText_zhTw[day]}`}\r\n      </ListItemText>\r\n      <Box paddingLeft={0.5}>\r\n        <InputItemContainer\r\n          id={`${day}-${'morning'}`}\r\n          day={day}\r\n          dayTime={'morning'}\r\n          value={String(dayTimePrices.morning)}\r\n          onChange={props.onChange} />\r\n      </Box>\r\n      <Box paddingLeft={0.5}>\r\n        <InputItemContainer\r\n          id={`${day}-${'afternoon'}`}\r\n          day={day}\r\n          dayTime={'afternoon'}\r\n          value={String(dayTimePrices.afternoon)}\r\n          onChange={props.onChange} />\r\n      </Box>\r\n    </CommonGridListItemWrapper>\r\n  );\r\n};\r\n\r\nexport default OtherDayKabuItem;","import React from 'react';\r\nimport { Box, Paper, Divider } from '@material-ui/core';\r\nimport OtherDayKabuItemHeader from './OtherDayKabuItemHeader';\r\nimport { OtherDayKabuFormProps } from './types';\r\nimport OtherDayKabuItem from './OtherDayKabuItem';\r\n\r\nconst OtherDayKabuForm = (props: OtherDayKabuFormProps) => {\r\n  return (\r\n    <Box paddingY={1}>\r\n      <Paper elevation={2}>\r\n        <OtherDayKabuItemHeader />\r\n        <Divider />\r\n        {props.otherDayList.map((d, i) => (\r\n          <OtherDayKabuItem\r\n            key={i}\r\n            {...d}\r\n            onChange={props.onChange} />\r\n        ))}\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default OtherDayKabuForm;","import React from 'react';\r\nimport { Box, Typography, Divider, makeStyles } from '@material-ui/core';\r\nimport { KabuTrendTypePredictionProps } from './types';\r\nimport { kabuTrends, highestPositionToText, getHighestPositionText } from '../config';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    borderColor: theme.palette.primary.dark,\r\n    borderWidth: 1.5,\r\n    borderStyle: 'solid',\r\n    borderRadius: 10,\r\n  }\r\n}));\r\n\r\nconst KabuTrendTypePrediction = (props: KabuTrendTypePredictionProps) => {\r\n  const classes = useStyles();\r\n  const trendsStr = props.kabuTrendTypes.map(\r\n    trend => kabuTrends[trend]\r\n  ).join(' / ');\r\n\r\n  console.log(props.highestPricePosition);\r\n  \r\n  return (\r\n    <Box className={classes.root} padding={1}>\r\n      <Box display={'flex'} alignItems={'center'} paddingTop={1} paddingBottom={1}>\r\n        <Typography>\r\n          {'目前可能趨勢: '}\r\n        </Typography>\r\n        <Typography variant={'h6'}>\r\n          {`${trendsStr}`}\r\n        </Typography>\r\n      </Box>\r\n      <Divider />\r\n      <Box display={'flex'} alignItems={'center'} paddingTop={1} paddingBottom={1}>\r\n        <Typography>\r\n          {'預測價格最大值時間: '}\r\n        </Typography>\r\n        <Typography variant={'h5'}>\r\n          {`${getHighestPositionText(props.highestPricePosition)}`}\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default KabuTrendTypePrediction;","import React, { useState, useCallback, useEffect } from 'react';\r\nimport { Box, Divider, Typography, Container } from '@material-ui/core';\r\nimport OtherDayKabuForm from '../components/OtherDayKabuForm';\r\nimport { DayAndTime, SingleWeekKabuRecord, OtherDayType } from '../types';\r\nimport InputItemContainer from './InputItemContainer';\r\nimport handleCalKabu from '../functions/handleCalKabu';\r\nimport { OtherDayKabuFormContainerProps } from './types';\r\nimport { localStorageKey } from '../config';\r\nimport KabuTrendTypePrediction from '../components/KabuTrendTypePrediction';\r\nimport HandleKabuTrends from '../functions/HandleKabuTrend';\r\n\r\nconst OtherDayKabuFormContainer = (props: OtherDayKabuFormContainerProps) => {\r\n  let Kabu: number | string = 0;\r\n  const [dayPrices, setDayPrices] = useState(props.initOtherDayPrices);\r\n\r\n  const handleChange = useCallback((dayAndTime: DayAndTime, value: string) => {\r\n    setDayPrices(d => ({\r\n      ...d,\r\n      [dayAndTime.day]: {\r\n        ...d[dayAndTime.day],\r\n        [dayAndTime.dayTime]: Number(value),\r\n      }\r\n    }));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(localStorageKey, JSON.stringify(dayPrices));\r\n  }, [dayPrices]);\r\n\r\n  //excludes sunday\r\n  const days = Object.keys(dayPrices).slice(1) as OtherDayType[];\r\n  const otherDayList = days.map(day => ({\r\n    day,\r\n    dayTimePrices: dayPrices[day]\r\n  }));\r\n\r\n  Kabu = handleCalKabu(dayPrices.sun.morning, dayPrices.mon.morning);\r\n  const prices = HandleKabuTrends.getThisWeekPrices(dayPrices);\r\n  const kabuTrendTypesAndPricePosition = HandleKabuTrends.getPresiceTrendType(prices);\r\n\r\n  return (\r\n    <Container>\r\n      \r\n      <Box>\r\n        <Typography variant={'h6'}>\r\n          {'週日原買價'}\r\n        </Typography>\r\n        <InputItemContainer\r\n          id={'sunday-morning'}\r\n          day={'sun'}\r\n          dayTime={'morning'}\r\n          variant={'outlined'}\r\n          onChange={handleChange}\r\n          value={String(dayPrices.sun.morning)} />\r\n      </Box>\r\n      <OtherDayKabuForm\r\n        otherDayList={otherDayList}\r\n        onChange={handleChange} />\r\n      {/* <Typography variant={'h5'}>\r\n        {`Kabu值(%): ${Kabu}`}\r\n      </Typography>\r\n      <Divider /> */}\r\n      <KabuTrendTypePrediction\r\n        {...kabuTrendTypesAndPricePosition} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default OtherDayKabuFormContainer;","import { OtherDayKabuFormContainerProps } from \"../containers/types\";\r\nimport { localStorageKey } from \"../config\";\r\n\r\nexport const initDayPrices = {\r\n  'morning': 0,\r\n  'afternoon': 0,\r\n};\r\n\r\nexport const defaultInitOtherDayPrices: OtherDayKabuFormContainerProps['initOtherDayPrices'] = {\r\n  'sun': initDayPrices,\r\n  'mon': initDayPrices,\r\n  'tue': initDayPrices,\r\n  'wed': initDayPrices,\r\n  'thu': initDayPrices,\r\n  'fri': initDayPrices,\r\n  'sat': initDayPrices,\r\n};\r\n\r\nclass HandleLocalStorage {\r\n  static getData() {\r\n    const data = localStorage.getItem(localStorageKey);\r\n    if(data) {\r\n      const parsed = JSON.parse(data);\r\n      console.log(parsed);\r\n      return parsed as OtherDayKabuFormContainerProps['initOtherDayPrices'];\r\n    }\r\n    return defaultInitOtherDayPrices;\r\n  }\r\n}\r\n\r\nexport default HandleLocalStorage;","import React from 'react';\r\nimport { Box, Typography, makeStyles, Button } from '@material-ui/core';\r\nimport { reportDocLink } from '../config';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    backgroundColor: '#b0f7e3'\r\n  }\r\n}));\r\n\r\nconst Header = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Box \r\n      className={classes.root} \r\n      paddingLeft={2} \r\n      paddingY={2}\r\n      display={'flex'}\r\n      alignItems={'center'}\r\n      justifyContent={'space-between'}\r\n    >\r\n      <Box\r\n        display={'flex'}\r\n        alignItems={'center'}\r\n      >\r\n        <Box paddingRight={2}>\r\n          <img \r\n            src={'./images/Animal_Crossing_Leaf.png'} \r\n            alt={'logo'} \r\n            style={{\r\n              width: 20,\r\n              height: 'auto'\r\n            }}\r\n          />\r\n        </Box>\r\n        <Typography>\r\n          {'動物森友會 大頭菜價格趨勢預測'}\r\n        </Typography>\r\n        {/* <Typography>\r\n          {'Animal Crossing New Horizons'}\r\n        </Typography> */}\r\n      </Box>\r\n      <Button\r\n        // color={'secondary'}\r\n        variant={'outlined'}\r\n        target={'_blank'}\r\n        href={reportDocLink}\r\n      >\r\n        {'問題回報'}\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { Box, Typography, Link, Divider } from '@material-ui/core';\r\nimport referenceLinks from '../static/referenceLinks.json';\r\n\r\nconst version = process.env.REACT_APP_VERSION;\r\n\r\nexport const LinkItemInFooter = ({\r\n  href,\r\n  title,\r\n}: {\r\n  href: string\r\n  title: string\r\n}) => {\r\n  return (\r\n    <Link \r\n      display={'block'}\r\n      href={href}\r\n      target={'_blank'}\r\n      color={'textSecondary'}\r\n    >\r\n      {title}\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst links = referenceLinks;\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <Box\r\n      style={{\r\n        backgroundColor: '#eee'\r\n      }}\r\n      paddingLeft={2} \r\n      paddingY={2}\r\n    >\r\n      <Typography>\r\n        {'投資有賺有賠，資料僅供預測，如有任何預測失準，一切以遊戲為主'}\r\n      </Typography>\r\n      <Divider />\r\n      <Typography>\r\n        {'參考來源'}\r\n      </Typography>\r\n      {links.map((link, i) => (\r\n        <LinkItemInFooter\r\n          key={i}\r\n          {...link} />\r\n      ))}\r\n      <Divider />\r\n      <Typography>{`v${version}`}</Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Footer;","import { createMuiTheme } from \"@material-ui/core\";\r\n\r\nconst anclTheme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: [\r\n      '微軟正黑體'\r\n    ].join(),\r\n  },\r\n  palette: {\r\n    primary: {\r\n      light: '#cffaee',\r\n      main: '#b0f7e3',\r\n      dark: '#4be3ba'\r\n    },\r\n    text: {\r\n      secondary: '#0f8cd9'\r\n    }\r\n  }\r\n});\r\n\r\nexport default anclTheme;","import React from 'react';\r\nimport { OtherDayKabuFormContainerProps } from './containers/types';\r\nimport OtherDayKabuFormContainer from './containers/OtherDayKabuFormContainer';\r\nimport HandleLocalStorage from './functions/HandleLocalStorage';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport { Box } from '@material-ui/core';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport anclTheme from './theme/theme';\r\n\r\nexport const initDayPrices = {\r\n  'morning': 0,\r\n  'afternoon': 0,\r\n};\r\n\r\nexport const defaultInitOtherDayPrices: OtherDayKabuFormContainerProps['initOtherDayPrices'] = {\r\n  'sun': initDayPrices,\r\n  'mon': initDayPrices,\r\n  'tue': initDayPrices,\r\n  'wed': initDayPrices,\r\n  'thu': initDayPrices,\r\n  'fri': initDayPrices,\r\n  'sat': initDayPrices,\r\n};\r\n\r\nconst KabuRecord = () => {\r\n  return (\r\n    <ThemeProvider theme={anclTheme}>\r\n      <Header />\r\n      <Box style={{\r\n        minHeight: '100vh'\r\n      }}>\r\n        <OtherDayKabuFormContainer\r\n          initOtherDayPrices={HandleLocalStorage.getData()} />\r\n      </Box>\r\n      <Footer />\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default KabuRecord;","import React from 'react';\r\nimport './App.css';\r\nimport KabuRecord from 'app/KabuRecord';\r\n// import 'style/style.css';\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <>\r\n      <KabuRecord />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}